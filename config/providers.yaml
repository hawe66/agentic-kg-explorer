# Provider Registry
# -----------------
# Switching providers: change LLM_PROVIDER or EMBEDDING_PROVIDER in .env (no code changes).
# Adding a new provider: create the provider class + add entry here.
#
# .env overrides (LLM_MODEL, EMBEDDING_MODEL, etc.) always take precedence over defaults here.

# ---------------------------------------------------------------------------
# LLM Providers (for text generation)
# ---------------------------------------------------------------------------
providers:
  anthropic:
    module: src.agents.providers.anthropic
    class: AnthropicProvider
    default_model: claude-3-5-sonnet-20241022
    api_key_env: ANTHROPIC_API_KEY
    ssl_client_type: httpx           # httpx | httpx_openai | gemini | null
    constructor_ssl_kwarg: http_client
    max_classify_tokens: 500
    max_synthesize_tokens: 2000
    fallback_provider: openai
    fallback_model: gpt-4.1

  openai:
    module: src.agents.providers.openai
    class: OpenAIProvider
    default_model: gpt-4o-mini
    api_key_env: OPENAI_API_KEY
    ssl_client_type: httpx_openai
    constructor_ssl_kwarg: http_client
    max_classify_tokens: 500
    max_synthesize_tokens: 2000
    fallback_provider: anthropic
    fallback_model: claude-3-5-sonnet-20241022

  gemini:
    module: src.agents.providers.gemini
    class: GeminiProvider
    default_model: gemini-2.5-flash
    api_key_env: GEMINI_API_KEY
    ssl_client_type: gemini
    constructor_ssl_kwarg: http_options
    max_classify_tokens: 500
    max_synthesize_tokens: 2000
    fallback_provider: openai
    fallback_model: gpt-4.1


# ---------------------------------------------------------------------------
# Embedding Providers (for vector search)
# ---------------------------------------------------------------------------
# Switching: set EMBEDDING_PROVIDER in .env (default: openai)
# Model override: set EMBEDDING_MODEL in .env

embedding_providers:
  openai:
    module: src.retrieval.providers.openai
    class: OpenAIEmbeddingProvider
    default_model: text-embedding-3-small
    api_key_env: OPENAI_API_KEY
    ssl_client_type: httpx_openai
    constructor_ssl_kwarg: http_client
    fallback_provider: null

  # Future: local HuggingFace provider
  # local:
  #   module: src.retrieval.providers.local
  #   class: LocalEmbeddingProvider
  #   default_model: sentence-transformers/all-MiniLM-L6-v2
  #   api_key_env: null  # no API key needed
  #   ssl_client_type: null
  #   constructor_ssl_kwarg: null
  #   fallback_provider: openai
